<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Statistic with Java</title>
    <meta charset="utf-8" />
    <meta name="author" content="董宸賓" />
    <meta name="date" content="2024-01-04" />
    <script src="libs/header-attrs-2.25.2/header-attrs.js"></script>
    <link href="libs/panelset-0.2.6/panelset.css" rel="stylesheet" />
    <script src="libs/panelset-0.2.6/panelset.js"></script>
    <script src="libs/xaringanExtra-webcam-0.0.1/webcam.js"></script>
    <script id="xaringanExtra-webcam-options" type="application/json">{"width":"200","height":"200","margin":"1em"}</script>
    <link href="libs/tile-view-0.2.6/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view-0.2.6/tile-view.js"></script>
    <script src="libs/js-cookie-3.0.0/js.cookie.js"></script>
    <script src="libs/peerjs-1.3.1/peerjs.min.js"></script>
    <script src="libs/tiny.toast-1.0.0/toast.min.js"></script>
    <link href="libs/xaringanExtra-broadcast-0.2.6/broadcast.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-broadcast-0.2.6/broadcast.js"></script>
    <link href="libs/xaringanExtra-extra-styles-0.2.6/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
    <link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
    <script src="libs/datatables-binding-0.28/datatables.js"></script>
    <script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <link href="libs/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="libs/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="libs/dt-core-1.13.4/js/jquery.dataTables.min.js"></script>
    <link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
    <script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
    <link rel="stylesheet" href="libs/css2.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Statistic with Java
]
.subtitle[
## 程式設計一期末報告<br>統計教學暨研究
]
.author[
### 董宸賓
]
.date[
### 2024-01-04
]

---






class: middle, center, inverse2

### 本次報告相關的java class

### 都可以在以下網站點擊APP互動查看

### 還有一些文章可以參考

### 當然也包含所有完整程式碼的githhub連結

&lt;img src="libs/q4.png" width="30%" /&gt;

---
class: middele, bkb

### 目錄

### 1.class tour

### 2.架構分析

### 3.應用篇1-教學用途

### 4.應用篇2-輔助教育研究與分析

### 5.Design pattern

---
class: tt, middle

# Class tour

---

class: bkb

### 1.DescriptiveStatistics

計算每個數據的基礎統計量

--
.panelset[
.panel[.panel-name[CONSTRUCTOR]



### code

```r
DescriptiveStatistics

(double[] data, String name)
```

### description

data: 輸入的數據

name: 輸入的數據名稱

]
.panel[.panel-name[Method]

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-45731d8b0bb99fef050c" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-45731d8b0bb99fef050c">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13"],["getData()","getName()","setData(double[] data)","setName(String name)","mean()","median()","standardDeviation()","sampleSize()","populationVariance()","populationStandardDeviation()","summary()","description()","example()"],["double[]","String","void","void","double","double","double","int","double","double","String","String","String"],["獲取當前數據集。","獲取數據集的名稱。","將數據集設置為指定的雙精度數組。","設置數據集的名稱。","計算數據集的平均值。","計算數據集的中位數。","計算數據集的標準偏差。","計算數據集的樣本大小。","計算數據集的母體方差。","計算數據集的母體標準偏差。","提供數據集的描述性統計摘要。","提供類的描述性文本。","提供如何使用類的示例。"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>方法名<\/th>\n      <th>返回類型<\/th>\n      <th>描述<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>


]
.panel[.panel-name[Sample]

Code:


```java
  double[] data = {1, 2, 3, 4, 5};
  DescriptiveStatistics ds = new DescriptiveStatistics(data, "data");
  System.out.println(ds.mean());
  System.out.println(ds.information());
 
```

Output:

```r
平均值: 3.0
中位數: 3.0
標準偏差: 1.4142135623730951
樣本大小: 5
母體方差: 2.0
母體標準偏差: 1.4142135623730951
```

]
]

---
class: bkb

###  2.Anova(繼承DescriptiveStatistics)

分析多組數據集之間的均值是否存在顯著差異

--
.panelset[
.panel[.panel-name[CONSTRUCTOR]

code

```r
public Anova(double[][] groups, String name) {
        super(flatten(groups), name);
        this.groups = groups;
    }
```

description

1.為了處理多項數據之比較，接受一個二維數組作為參數

2.通過flatten函數將二維數組轉換為一維數組，讓其也可以在DescriptiveStatistics中使用


]
.panel[.panel-name[Method]

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-5803c8023799bd049361" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-5803c8023799bd049361">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9"],["flatten(double[][] arrays)","overallMean()","totalSumOfSquares()","betweenGroupSumOfSquares()","withinGroupSumOfSquares()","calculateFValue()","summary()","explain()","description()"],["double[]","double","double","double","double","double","String","String","String"],["將二維數組展平為一維數組。","計算總體均值。","計算總體平方和（SST）。","計算組間平方和（SSB）。","計算組內平方和（SSW）。","計算 ANOVA 的 F 值。","提供 ANOVA 分析的摘要。","提供 ANOVA 分析的基本概念和使用方法的解釋。","提供 ANOVA 的詳細描述和公式。"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>方法名<\/th>\n      <th>返回類型<\/th>\n      <th>描述<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":4,"columnDefs":[{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[4,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>


]
.panel[.panel-name[Sample]

Code:


```java
  double[] data1 = {1, 2, 3, 4, 5};
  double[] data2 = {2, 3, 4, 5, 6};
  double[] data3 = {3, 4, 5, 6, 7};
  double[][] groups = {data1, data2, data3};
  Anova anova = new Anova(groups, "data");
  System.out.println(anova.summary());
```

Output:

```r
ANOVA 分析 - data
總體平方和 (SST): 40.0
組間平方和 (SSB): 10.0
組內平方和 (SSW): 30.0
```

]
]


---
class: bkb

###  3.LinearRegression(一樣繼承)

計算線性回歸模型的斜率和截距，並使用模型進行預測。

--
.panelset[
.panel[.panel-name[CONSTRUCTOR]

code


```java
public LinearRegression(double[] xData, double[] yData, String name) {
        super(yData, name); // 使用因變量初始化 DescriptiveStatistics
        this.xData = xData;
        this.yData = yData;
    }
```

description

1.以自變量和因變量的數據，以及自變量數據集的名稱來構造物件

2.通常以一個DescriptiveStatistics物件作為因變量，以及一個double[]作為自變量

]
.panel[.panel-name[Method]

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-49b5ed4559d38b8558f4" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-49b5ed4559d38b8558f4">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],["calculateSlope()","calculateIntercept()","predict(double x)","summary()","explain()","description()"],["double","double","double","String","String","String"],["計算回歸線的斜率（beta）。","計算回歸線的截距（alpha）。","使用線性回歸模型預測給定 x 值的 y 值。","提供線性回歸模型的摘要。","提供線性回歸的基本概念和模型解釋。","提供簡單線性回歸的詳細說明和公式。"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>方法名<\/th>\n      <th>返回類型<\/th>\n      <th>描述<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":3,"columnDefs":[{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[3,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>


]
.panel[.panel-name[Sample]

Code:


```java
  double[] xData = {1, 2, 3, 4, 5};
  double[] yData = {2, 4, 6, 8, 10};
  DescriptiveStatistics ds = new DescriptiveStatistics(yData, "y");
  LinearRegression lr = new LinearRegression(xData, ds.getData(), ds.getName());
  System.out.println(lr.modelSummary());
  System.out.println("當 x = 6 時，預測的 y 值為: " + lr.predict(6));
```

Output:

```r
線性回歸模型 - y
斜率 (beta): 2.0
截距 (alpha): 0.0
當 x = 6 時，預測的 y 值為: 12.0
```

]
]


---

class: bkb

###  4.HypothesisTest(一樣繼承)

專為進行假設檢定設計，提供了計算和分析假設檢定所需的各種工具和方法

--
.panelset[
.panel[.panel-name[CONSTRUCTOR]

code


```java
public class HypothesisTest extends DescriptiveStatistics{
  public HypothesisTest(double[] data, String name) {
	super(data,name);
	this.a = 0.05;
}
```

description

1.使用指定的數據和名稱構造 HypothesisTest 對象。初始化顯著性水平 alpha 為 0.05。

2.通常以一個DescriptiveStatistics物件作為它的sample

]
.panel[.panel-name[Method]

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-f5fdb82b04450d79ad5f" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f5fdb82b04450d79ad5f">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],["getAlpha()","setDirect(String direct)","getDirect()","setAlpha(double alpha)","setNullHypo(double hypo, String direct)","p_Population(double populationStandardDeviation)","t_Sample()","analysis(double p)","tAnalysis(double t)","instruction()","instruction1()","instruction2()","instruction3()","findzTable(double z)","findtTable(double alpha, int degreesOfFreedom, boolean twoTail)"],["double","void","String","void","void","double","double","void","void","void","void","void","void","double","double"],["獲取顯著性水平 alpha。","設置檢定的方向。","獲取檢定的方向。","設置顯著性水平 alpha。","設置零假設和對立假設的值。","計算假設檢定的 p 值（總體標準差已知的情況）。","使用樣本變異數計算假設檢定的 t 值。","根據計算得到的 p 值分析結果。","根據計算得到的 t 值分析結果。","提供假說檢定的基本介紹。","說明設置假設檢定步驟的意義。","說明如何計算檢定統計量。","說明如何根據檢定統計量做出決策。","查找 z 表以獲得對應的 p 值。","查找並返回 t 表中對應於特定 alpha 值和自由度的 t 值。"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>方法名<\/th>\n      <th>返回類型<\/th>\n      <th>描述<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":3,"columnDefs":[{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[3,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>


]
.panel[.panel-name[Sample]

Code:


```java
 String name = "HY";
 double[] data = {1,2,3,4};
 hy1.setNullHypo(5,"雙尾");
 double P = hy1.p_Population(hy1.standardDeviation());
 hy1.analysis(P);

```

Output:

```r
H0: μ=5.0 H1: μ≠5.0
在此情境中，由於p-value(0.5)大於或等於alpha/2 (0.025)，可知此資料無法拒絕H0之假設
```

]
]




---
class: tt, middle

# 架構分析

---

class: inverse2, middle

### 基礎架構

1.宣告Scanner與存放DescriptiveStatistics物件的ArrayList


```java
Scanner sc = new Scanner(System.in);
List&lt;DescriptiveStatistics&gt; statsList = new ArrayList&lt;&gt;();
```

2.選擇輸入方式，並將每份資料以物件形式加入List裡


```java
System.out.println("請選擇數據來源 ? 1:CSV 2:手動輸入");
...
switch(choice1){
  case 1:
    ...//讀取csv檔案
     break;
   case 2:
     ...//手動輸入
     break;
}
```




---
class: tt, middle

# 架構分析

---

class: inverse2, middle

### 基礎架構

1.宣告Scanner與存放DescriptiveStatistics物件的ArrayList


```java
Scanner sc = new Scanner(System.in);
List&lt;DescriptiveStatistics&gt; statsList = new ArrayList&lt;&gt;();
```

2.選擇輸入方式，並將每份資料以物件形式加入List裡


```java
System.out.println("請選擇數據來源 ? 1:CSV 2:手動輸入");
...
switch(choice1){
  case 1:
    ...//讀取csv檔案
     break;
   case 2:
     ...//手動輸入
     break;
}
```

---

class: inverse2

### 基礎架構

3.對每份數據作基礎之分析，檢視數據


```java
for (DescriptiveStatistics stats : statsList) {
  System.out.println(stats.information());
}
```

.pull-left[

4.Sample output1-from csv

```r
請選擇數據來源 ? 1:CSV 2:手動輸入
1
Enter the CSV file path: 
data.csv
數據名稱: "StudentID"
平均值: 54732.87
中位數: 56340.0
標準偏差: 27148.35057628915
樣本大小: 100
母體方差: 7.370329390130996E8
母體標準偏差: 27148.35057628915

```
]

.pull-right[
```r
數據名稱: "LibraryHours"
平均值: 4.927089057526639
中位數: 4.619102264084435
標準偏差: 1.6412256355060801
樣本大小: 100
母體方差: 2.6936215866423368
母體標準偏差: 1.6412256355060801

數據名稱: "Grade"
平均值: 2.44
中位數: 2.0
標準偏差: 1.1429785649783635
樣本大小: 100
母體方差: 1.3063999999999991
母體標準偏差: 1.1429785649783635
```
]

---
class: inverse2

### 基礎架構

3.對每份數據作基礎之分析，檢視數據


```java
for (DescriptiveStatistics stats : statsList) {
  System.out.println(stats.information());
}
```

.pull-left[

4.Sample output1- 手動

```r
請選擇數據來源 ? 1:CSV 2:手動輸入
2
數據欄位名: 
程式設計一段考成績
請問有幾個數據: 
3
輸入數據: 
60 78 35
Do you want to enter another set of data? (Y/N)
Y
數據欄位名: 
程式設計一段考讀書時間
請問有幾個數據: 
3
輸入數據: 10 3 62
```
]

.pull-right[
```r
Do you want to enter another set of data? (Y/N)
N
數據名稱: 程式設計一段考成績
平均值: 57.666666666666664
中位數: 60.0
標準偏差: 17.632041540584257
樣本大小: 3
母體方差: 310.8888888888889
母體標準偏差: 17.632041540584257

數據名稱: 程式設計一段考讀書時間
平均值: 25.0
中位數: 10.0
標準偏差: 26.318561257535844
樣本大小: 3
母體方差: 692.6666666666666
母體標準偏差: 26.318561257535844
```
]


---
class: inverse2

### 資料處理

.panelset.sideways.left[
.panel[.panel-name[流程圖]

&lt;img src="libs/流程圖1.png" width="120%" style="display: block; margin: auto;" /&gt;

]

.panel[.panel-name[from csv]

```java
 try {
  Scanner sc = new Scanner(new File(filePath));
  String[] headers = sc.nextLine().split(",");
  List&lt;List&lt;Double&gt;&gt; columns = new ArrayList&lt;&gt;();
  for (int i = 0; i &lt; headers.length; i++) {
    columns.add(new ArrayList&lt;&gt;());
  }          

   while (sc.hasNextLine()) {
      String[] data = sc.nextLine().split(",");
      for (int i = 0; i &lt; data.length; i++) {
          double value = Double.parseDouble(data[i]);
          columns.get(i).add(value);
          } 

       for (int i = 0; i &lt; columns.size(); i++) {
         List&lt;Double&gt; column = columns.get(i);
         if (!column.isEmpty()) {
             double[] dataArray = column.stream().mapToDouble(d -&gt; d).toArray();
             statsList.add(new DescriptiveStatistics(dataArray, headers[i]));
              }
            }         

        } catch (FileNotFoundException e) {
            System.out.println("File not found: " + e.getMessage());
        } catch (Exception e) {
            System.out.println("Error: " + e.getMessage());
        }       
    
```
]

.panel[.panel-name[手動輸入]

```java
while (true) {
            
  System.out.println("數據欄位名: ");
  String name = sc.next();
  System.out.println("請問有幾個數據: ");
  int n = sc.nextInt();
  double[] data = new double[n];
  System.out.println("輸入數據: ");
  for (int i = 0; i &lt; n; i++) {
   data[i] = sc.nextDouble();
    }
        
  DescriptiveStatistics stats = new DescriptiveStatistics(data, name);
  statsList.add(stats);
        
  System.out.println("Do you want to enter another set of data? (Y/N)");
  String answer = sc.next();
        
  if (answer.equalsIgnoreCase("N")) {
    break;
   }
    }
```
]
]

---

class: inverse2, middle

### 進階分析-Anova

1. 先用description()說明ANOVA的概念和公式
  
2. 接著，列出所有的資料集，讓使用者選擇要進行ANOVA的資料集，並計算ANOVA的F值。
  
3. 再來，用summary()提供ANOVA分析的摘要。
  
4. 最後，用explain()提供ANOVA分析的基本概念和使用方法的解釋。

---

class: inverse2, middle

### Anova-code


```java
//ANOVA-1 解釋
System.out.println("要聽一下Anova的概念嗎？(Y/N)");
String answera1 = sc.next();
while(answera1.equalsIgnoreCase("Y")){
System.out.println("概念講解");
double[][] dataForAnova = {{1, 2, 3, 4, 5}, {2, 5 , 6, 7, 8}};
Anova anova = new Anova(dataForAnova, "ANOVA Test");
System.out.println(anova.description());
System.out.println("要在聽一次嗎？(Y/N)");
String answera2 = sc.next();
if (answera2.equalsIgnoreCase("N")) {
  System.out.println("好的，那我們進入實戰環節！");
  System.out.println("");
  break;
  }
}               
              
//ANOVA-2 實戰
System.out.println("請選擇要做ANOVA的資料(輸入對應數字，輸入-1結束)：");
   for (int i = 0; i &lt; statsList.size(); i++) {
     System.out.println((i + 1) + ". " + statsList.get(i).getName());
    }
```

---

class: inverse2, middle

### Anova-code


```java
ArrayList&lt;Integer&gt; indexList = new ArrayList&lt;&gt;();
while(true) {
  int index = sc.nextInt() - 1;
  if (index == -2) {
   break;
  } else if (index &gt;= 0 &amp;&amp; index &lt; statsList.size()) {
   indexList.add(index);
   System.out.println("已選擇 " + statsList.get(index).getName());
  } else {
   System.out.println("無效的索引，請重新輸入");
  }
}
              
double[][] dataForAnova = new double[indexList.size()][];
for (int i = 0; i &lt; indexList.size(); i++) {
   DescriptiveStatistics stats = statsList.get(indexList.get(i));
   dataForAnova[i] = stats.getData();
}
              
if (dataForAnova.length &gt; 1) {
     Anova anova = new Anova(dataForAnova, "ANOVA Test");
     System.out.println(anova.summary());
     System.out.println("F 值: " + anova.calculateFValue());
     System.out.println(anova.explain());
   } else {
     System.out.println("至少需要選擇兩組數據進行ANOVA分析");
   }
break;
```

---

class: inverse2, middle

### 進階分析-LinearRegression

  1. 先用description()說明Regression的概念和公式
  
  2. 接著，列出所有的資料集，讓使用者選擇要進行Regression的資料集，並計算Regression的斜率和截距。
  
  3. 再來，用summary()提供Regression分析的摘要。
  
  4. 用explain()提供Regression分析的基本概念和使用方法的解釋。
  
  5. 最後，使用predict()來預測給定x值的y值。
  
  
---

class: inverse2, middle

### LinearRegression-code


```java
System.out.println("要聽一下線性回歸的概念嗎？(Y/N)");
String answer = sc.next();
while(answer.equalsIgnoreCase("Y")){
    System.out.println("概念講解");
    double[] xData = {1, 2, 3, 4, 5};
    double[] yData = {2, 5 , 6, 7, 8};
    LinearRegression reg = new LinearRegression(xData, yData, "線性回歸示範");
    System.out.println(reg.description());
    System.out.println("要在聽一次嗎？(Y/N)");
    String answerl1 = sc.next();
    if (answerl1.equalsIgnoreCase("N")) {
      System.out.println("好的，那我們進入實戰環節！");
      System.out.println("");
      break;
    }
}
for (int i = 0; i &lt; statsList.size(); i++) {
 System.out.println((i + 1) + ". " + statsList.get(i).getName());
}
System.out.println("請選擇要做迴歸分析的因變數：");
int index1 = sc.nextInt() - 1;
int index2 = sc.nextInt() - 1;
String regName = statsList.get(index1).getName() + " vs. " + statsList.get(index2).getName();
LinearRegression reg = new LinearRegression(statsList.get(index1).getData(), statsList.get(index2).getData(), regName);

```

---

class: inverse2, middle

### LinearRegression-code


```java
System.out.println("");
System.out.println("迴歸分析結果：");
System.out.println(reg.summary());
System.out.println(reg.explain());
System.out.println("--------------------------");
System.out.println("");
              
System.out.println("請問要預測 y(應變數) 值嗎？(Y/N)");
String answerl2 = sc.next();
while(answerl2.equalsIgnoreCase("Y")){
   System.out.println("請輸入 y 值：");
   double x = sc.nextDouble();
   System.out.println("預測的 x 值為：" + reg.predict(x));
   System.out.println("要在預測一次嗎？(Y/N)");
   String answerl3 = sc.next();
if (answerl3.equalsIgnoreCase("N")) {
   System.out.println("好的，再見！");
}
   
```

---

class: inverse2, middle

### 進階分析-HypothesisTest

  HypothesisTest：讓使用者選擇要進行HypothesisTest的資料，並計算HypothesisTest的t值和p值。

  1. 讓使用者選擇要進行的分析的數據
  
  2.讓使用者填入假設檢定與方向
  
  3. 如果資料為小於30的陣列，則進行t檢定，並且用tAnalysis()來分析結果
  
  4. 如果資料為大於30的陣列，則進行z檢定，並且用analysis()來分析結果

---

class: inverse2, middle

### HypothesisTest-code


```java
for (int i = 0; i &lt; statsList.size(); i++) {
  System.out.println((i + 1) + ". " + statsList.get(i).getName());
}
System.out.println("請選擇要做假設檢定的資料(輸入對應數字)：");
int index_hy = sc.nextInt() - 1;
System.out.println("您選擇的資料為：" + statsList.get(index_hy).getName());
      			
HypothesisTest hy = new HypothesisTest(statsList.get(index_hy).getData(),statsList.get(index_hy).getName());

System.out.println("輸入假設之均值：");
double mean = sc.nextDouble();
System.out.println("輸入假設之方向「左尾、右尾、雙尾」：");
String direction = sc.next();
hy.setNullHypo(mean, direction);
```

---

class: inverse2, middle

### HypothesisTest-code


```java
if(hy.getData().length &gt; 30) {
   System.out.println("數據大於30筆，適用的是Z分析");
   System.out.println("是否得知或遇輸入母體體標準差？(輸入y/n)");
   String answer_hy = sc.next();
      					
   double std;
   if(answer_hy.equals("y")){
      System.out.println("請輸入母體標準差：");
      std = sc.nextDouble();
   }else{
      System.out.println("將以樣本標準差替代");
      std = hy.standardDeviation();
   }
              
   System.out.println("-----------------------------");
   double pValue = hy.p_Population(std);
   System.out.println("P 值: " + pValue);
   hy.analysis(pValue);
   }else{
    System.out.println("數據小於30筆，適用的是T分析");
    System.out.println("-----------------------------");
    double tValue = hy.t_Sample();
    System.out.println("T 值: " + tValue);
    hy.tAnalysis(tValue);
}

```

---
class: tt, middle

# 應用篇1-教學用途

---
class: bkb

### 1:使用範例+回歸分析

```r
請選擇數據來源 ? 1:CSV 2:手動輸入 3.使用範例
3
為您提供以下示範
data1: [1.0, 2.0, 3.0, 4.0, 5.0]
data2: [2.0, 5.0, 6.0, 7.0, 8.0]
data3: [3.0, 4.0, 5.0, 6.0, 7.0]

--------------------------

基礎數據分析
以下將把每個數據集的數據進行描述性統計分析，包括平均值、中位數、標準(偏)差、樣本大小、母體方差和母體標準偏差。
數據名稱: data1
平均值: 3.0
中位數: 3.0
標準偏差: 1.4142135623730951
樣本大小: 5
母體方差: 2.0
母體標準偏差: 1.4142135623730951

數據名稱: data2
平均值: 5.6
中位數: 6.0
標準偏差: 2.0591260281974
樣本大小: 5
母體方差: 4.24
母體標準偏差: 2.0591260281974

```
---
class: bkb

```r
數據名稱: data3
平均值: 5.0
中位數: 5.0
標準偏差: 1.4142135623730951
樣本大小: 5
母體方差: 2.0
母體標準偏差: 1.4142135623730951

以下為您講解公式
平均值 = Σx / n
中位數 = (x[n/2] + x[n/2+1]) / 2
標準偏差 = √(Σ(x - x平均值)^2 / n)
母體方差 = Σ(x - x平均值)^2 / n
母體標準偏差 = √(Σ(x - x平均值)^2 / n)

--------------------------

選擇要進行的分析：
1. Hypothesis Testing
2. ANOVA
3. Regression
3

要聽一下線性回歸的概念嗎？(Y/N)
Y
概念講解
以下是簡單線性回歸的概念
=&gt; involves one independent variable and one dependent variable.
Suppose: y = B0 + B1x + ε , then E(y) = B0 + B1x , ε~NID(0 , σ^2)
Sampling and Fitted : ŷ = b0 + b1x
```
---

class: bkb

```r
Estimated: ŷ = b0 + b1x -----&gt; E(y) = B0 + B1x
                          b0 -----&gt; B0  ;  b1 -----&gt; B1
         (redisual) e = y - ŷ  -----&gt; ε = y - E(y)
                                by min Σ(y - ŷ)^2 = min Σ(y - b0 + b1x)^2
                                由 ∂SSE / ∂b0 = 0  and  ∂SSE / ∂b1 = 0
                                得 b1 = Σ(x - x̄)^2 (y - ȳ)^2 / Σ(x - x̄)^2
                                   b0 = ȳ - b1x̄
要在聽一次嗎？(Y/N)
N
好的，那我們進入實戰環節！

1. data1
2. data2
3. data3
請選擇要做迴歸分析的因變數：
1
請選擇要做迴歸分析的自變數：
2

迴歸分析結果：
線性回歸模型 - data1 vs. data2
斜率 (beta0): 1.4
截距 (beta1): 1.4000000000000004
本數據的迴歸模型是: ŷ = 1.4x + 1.4000000000000004
Statitical (True) Model is: y = f(x) + ε 
其中： y = 應變數  ； x = 自變數 
Statitical (True) Model -----&gt;  Fitted model , eg: ŷ = b1x + b0
利用 data 來 尋找Ｙ和Ｘ的關係（不一定是因果關係）

--------------------------
```
---
class: bkb

```r
請問要預測 y(應變數) 值嗎？(Y/N)
Y
請輸入 y 值：
100
預測的 x 值為：141.4
要在預測一次嗎？(Y/N)
N
好的，再見！
```


---
class: tt, middle

# 應用篇2-輔助教育研究與分析

---
class: bkb

### 課程長度與成績之分析

本數據是某大學在期末時，拿出兩門相同課程、相同老師、相同教材但課程長度不一樣之學生成績數據。

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-5527e811974a610c4578" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-5527e811974a610c4578">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],[55.95044554414471,66.88829846859782,88.24004321299603,81.15636849302675,85.91668955535361,78.06604861513632,73.89841237517143,65.75687226872716,90.92913753719196,75.4501059812188,67.84871599332118,83.65223099717137,85.744409582779,93.9565477419858,68.97002696394905,71.09132179276862,70.83777968469808,71.24342577179608,71.33369054297641,72.04322547299114,89.4182041019987,68.02461708086959,71.11832494078639,81.52536452171518,86.24772446535128,73.52339549414334,86.4635941503464,75.66167259970412,97.72611184978504,79.8174028883699,88.52814993600531,82.05162903244026,49.91951401079519,66.33888068671017,75.75897739855188,82.36803663745557,56.5727687964104,89.61696633380711,73.9557426614556,72.47122720637087,64.44388408540013,65.46106261998942,80.5633183605441,85.09369406673892,59.02117040215701,69.95638020550666,85.35771722252592,75.46962915350082,101.6536850181726,92.45746672748106,69.27889196976072,71.91913783861713,82.23620590498017,87.1775422653797,74.48835411912022,62.7000655261139,94.09121032100882,91.35069572311625,69.89628854150119,76.34932426344416,59.40531264634069,82.69722971819101,93.12346798201784,60.62719352895284,69.20431486798253,70.58823066249437,70.18868606428845,56.66714404382051,82.00963559247907,61.68201860034257,76.75002360721737,82.92984721025293,75.01804578515359,85.92008392473527,76.74284929081847,91.95498034069595,86.04884449538189,88.79360782055259,78.94093874732374,92.28017152957251,100.802139600857,96.83429910083284,77.8675574333591,69.81123150776412,84.90344300511759,90.40889370916976,99.50993979808598,72.81390515466437,89.64384592607448,88.33499835088519,97.93955261259052,85.72090027870422,82.42701145495747,74.53185863881633,80.82579516406378,82.37876227421728,109.505543257891,110.4653137569996,84.33296720515723,75.56332560938112],[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>score<\/th>\n      <th>course_length<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,2]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
class: inverse2

.pull-left[
### Anova


```java
已選擇 score
已選擇 course_length
ANOVA 分析 - ANOVA Test
總體平方和 (SST): 204458.51488688402
組間平方和 (SSB): 190421.12282211994
組內平方和 (SSW): 14037.392064764077
F 值: 2685.9250026520804
```
]

.pull-right[
### LinearRegression


```java
已選擇 score作為因變量
已選擇 course_length作為自變量
線性回歸模型 - score vs. course_length
斜率 (beta): 0.03159793293103698
截距 (alpha): 14.997051348946353
輸入預測值：98
預測結果：17.227
```
]

--

ANOVA 分析顯示 course_length 對 score 有顯著的影響

意味著不同的課程長度對學生成績有顯著的影響。

線性回歸模型提供了一種量化這種影響的方式

表明隨著課程長度的增加，成績也有所提高，儘管幅度不大。

藉由以上的資料分析，能為教育研究提供一些參考，甚至可以...


---
class: bkb

### extend

&lt;iframe src="https://javashinyapp.fly.dev" width="100%" height="500px"&gt;&lt;/iframe&gt;

---
background-image: url('libs/design.png')
background-size: 90% 80%

---
class: center, bottom, inverse
layout: false

# More info

--

本投影片是使用R package [**xaringan**](https://github.com/yihui/xaringan).

--

查克拉來自[**remark.js**](https://remarkjs.com), [**knitr**](https://yihui.org/knitr), and [**R Markdown**](https://rmarkdown.rstudio.com).

--

點擊進入[**網站**](https://javashinyapp.fly.dev)，[**Github**](https://github.com/blingblingdong/Java_statistic/tree/main)，[**本簡報**](https://java.lsyverycute.com)

--

### 謝謝聆聽

--
&lt;img src="sheepgif/sheep.gif" width="30%" /&gt;
--

THE END



    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightLines": true,
"highlightStyle": "github",
"countIncrementalSlides": false,
"seal": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
